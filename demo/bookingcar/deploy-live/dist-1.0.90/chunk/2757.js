/*! For license information please see 2757.js.LICENSE.txt */
"use strict";(self.webpackJsonp=self.webpackJsonp||[]).push([[2757],{"91999":function(t,a,o){o.d(a,{"a":function(){return createCommonjsModule},"b":function(){return i},"c":function(){return s},"g":function(){return getDefaultExportFromCjs}});var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==o.g?o.g:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function createCommonjsModule(t,a,o){return t(o={"path":a,"exports":{},"require":function(t,a){return function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},o.exports),o.exports}var s=createCommonjsModule((function(t){!function(){var a={}.hasOwnProperty;function r(){for(var t=[],o=0;o<arguments.length;o++){var i=arguments[o];if(i){var s=typeof i;if("string"===s||"number"===s)t.push(i);else if(Array.isArray(i)){if(i.length){var l=r.apply(null,i);l&&t.push(l)}}else if("object"===s)if(i.toString===Object.prototype.toString)for(var d in i)a.call(i,d)&&i[d]&&t.push(d);else t.push(i.toString())}}return t.join(" ")}t.exports?(r.default=r,t.exports=r):window.classNames=r}()}))},"62757":function(t,a,o){o.r(a),o.d(a,{"vnmf_tabbar":function(){return b}});var i=o(60392),s=o(4875),l=o(91999),__spreadArray=function(t,a){for(var o=0,i=a.length,s=t.length;o<i;o++,s++)t[s]=a[o];return t},splitUrl=function(t){var a,o=t||"",i={"path":null,"query":null,"fragment":null};return(a=o.indexOf("#"))>-1&&(i.fragment=o.substring(a+1),o=o.substring(0,a)),(a=o.indexOf("?"))>-1&&(i.query=o.substring(a+1),o=o.substring(0,a)),i.path=o,i},addLeadingSlash=function(t){return void 0===t&&(t=""),"/"===t.charAt(0)?t:"/"+t},stripBasename=function(t,a){return void 0===t&&(t=""),void 0===a&&(a=""),function(t,a){return void 0===t&&(t=""),void 0===a&&(a=""),new RegExp("^"+a+"(\\/|\\?|#|$)","i").test(t)||t===a}(t,a)?t.substring(a.length):t};function isAbsolute(t){return"/"===t.charAt(0)}function spliceOne(t,a){for(var o=a,i=o+1,s=t.length;i<s;o+=1,i+=1)t[o]=t[i];t.pop()}var TabbarItem=function(t){var a=t.index,o=t.isSelected,s=void 0!==o&&o,d=t.textColor,b=t.iconPath,h=t.badgeText,c=t.showRedDot,u=void 0!==c&&c,f=t.text,v=t.onSelect,g=(0,l.c)("weui-tabbar__item",{"weui-bar__item_on":s});return(0,i.h)("a",{"key":a,"href":"javascript:;","class":g,"onClick":function m(){v(a)}},(0,i.h)("span",{"style":{"display":"inline-block","position":"relative"}},(0,i.h)("img",{"src":b,"alt":"","class":"weui-tabbar__icon"}),!!h&&(0,i.h)("span",{"class":"weui-badge vnmf-tabbar-badge","style":{"position":"absolute","top":"-2px","right":"-13px"}},h),u&&(0,i.h)("span",{"class":"weui-badge weui-badge_dot","style":{"position":"absolute","top":"0","right":"-6px"}})),(0,i.h)("p",{"class":"weui-tabbar__label","style":{"color":d}},f))},d="vnmf-tabbar__tabbar",b=function(){function e(t){var a=this;(0,i.r)(this,t),this.onLongPress=(0,i.c)(this,"longpress",7),this.homePage="",this.customRoutes=[],this.tabbarPos="bottom",this.selectedIndex=-1,this.status=0,this.getOriginUrl=function(t){var o=a.customRoutes.filter((function(a){var o=a[1];return splitUrl(o).path===splitUrl(t).path}));return function(t,a){return void 0===t&&(t=""),void 0===a&&(a=""),t.includes(a)?t.substring(0,t.length-a.length):t}(o.length?o[0][0]:t,".html")},this.getSelectedIndex=function(t){var o=-1;return a.list.forEach((function(a,i){var s=a.pagePath;splitUrl(t).path===splitUrl(s).path&&(o=i)})),o},this.switchTab=function(t){a.selectedIndex=t,s.ZPm.switchTab({"url":a.list[t].pagePath})},this.switchTabHandler=function(t){var o=t.url,i=t.successHandler,s=t.errorHandler,l=function resolvePathname(t,a){void 0===a&&(a="");var o,i=t&&t.split("/")||[],s=a&&a.split("/")||[],l=t&&isAbsolute(t),d=a&&isAbsolute(a),b=l||d;if(t&&isAbsolute(t)?s=i:i.length&&(s.pop(),s=s.concat(i)),!s.length)return"/";if(s.length){var h=s[s.length-1];o="."===h||".."===h||""===h}else o=!1;for(var c=0,u=s.length;u>=0;u--){var f=s[u];"."===f?spliceOne(s,u):".."===f?(spliceOne(s,u),c++):c&&(spliceOne(s,u),c--)}if(!b)for(;c--;c)s.unshift("..");!b||""===s[0]||s[0]&&isAbsolute(s[0])||s.unshift("");var v=s.join("/");return o&&"/"!==v.substr(-1)&&(v+="/"),v}(o,a.getOriginUrl(a.getCurrentUrl()||a.homePage)),d=a.getSelectedIndex(l);d>-1?(a.switchTab(d),i({"errMsg":"switchTab:ok"})):s({"errMsg":'switchTab:fail page "'+l+'" is not found'})},this.routerChangeHandler=function(t){var o,i,s=null===(o=null==t?void 0:t.toLocation)||void 0===o?void 0:o.path;if("string"==typeof s){var l=a.conf.basename||"/";i=stripBasename(addLeadingSlash(s||a.homePage),l)||"/"}else i=a.getCurrentUrl();a.selectedIndex=a.getSelectedIndex(a.getOriginUrl(i))},this.setTabBarBadgeHandler=function(t){var o=t.index,i=t.text,s=t.successHandler,l=t.errorHandler,d=__spreadArray([],a.list);o in d?(d[o].showRedDot=!1,d[o].badgeText=i,s({"errMsg":"setTabBarBadge:ok"})):l({"errMsg":"setTabBarBadge:fail tabbar item not found"}),a.list=d},this.removeTabBarBadgeHandler=function(t){var o=t.index,i=t.successHandler,s=t.errorHandler,l=__spreadArray([],a.list);o in l?(l[o].badgeText=null,l[o].badgeText=null,i({"errMsg":"removeTabBarBadge:ok"})):s({"errMsg":"removeTabBarBadge:fail tabbar item not found"}),a.list=l},this.showTabBarRedDotHandler=function(t){var o=t.index,i=t.successHandler,s=t.errorHandler,l=__spreadArray([],a.list);o in l?(l[o].badgeText=null,l[o].showRedDot=!0,i({"errMsg":"showTabBarRedDot:ok"})):s({"errMsg":"showTabBarRedDot:fail tabbar item not found"}),a.list=l},this.hideTabBarRedDotHandler=function(t){var o=t.index,i=t.successHandler,s=t.errorHandler,l=__spreadArray([],a.list);o in l?(l[o].showRedDot=!1,i({"errMsg":"hideTabBarRedDot:ok"})):s({"errMsg":"hideTabBarRedDot:fail tabbar item not found"}),a.list=l},this.showTabBarHandler=function(t){var o=t.successHandler;a.status=0,o({"errMsg":"showTabBar:ok"})},this.hideTabBarHandler=function(t){var o=t.animation,i=t.successHandler;a.status=o?2:1,i({"errMsg":"hideTabBar:ok"})},this.setTabBarStyleHandler=function(t){var o=t.color,i=t.selectedColor,s=t.backgroundColor,l=t.borderStyle,d=t.successHandler;s&&(a.backgroundColor=s),l&&(a.borderStyle=l),o&&(a.color=o),i&&(a.selectedColor=i),d({"errMsg":"setTabBarStyle:ok"})},this.setTabBarItemHandler=function(t){var o=t.index,i=t.iconPath,s=t.selectedIconPath,l=t.text,d=t.successHandler,b=t.errorHandler,h=__spreadArray([],a.list);o in h?(i&&(h[o].iconPath=i),s&&(h[o].selectedIconPath=s),l&&(h[o].text=l),d({"errMsg":"setTabBarItem:ok"})):b({"errMsg":"setTabBarItem:fail tabbar item not found"}),a.list=h};var o=this.conf.list,l=this.conf.customRoutes;if("[object Array]"!==Object.prototype.toString.call(o)||o.length<2||o.length>5)throw new Error("tabBar Cannot initialise Evolution's mail component.");this.homePage=addLeadingSlash(this.conf.homePage);var n=function(t){var a,o=l[t];t=addLeadingSlash(t),"string"==typeof o?d.customRoutes.push([t,addLeadingSlash(o)]):(null==o?void 0:o.length)>0&&(a=d.customRoutes).push.apply(a,o.map((function(a){return[t,addLeadingSlash(a)]})))},d=this;for(var b in l)n(b);o.forEach((function(t){0!==t.pagePath.indexOf("/")&&(t.pagePath="/"+t.pagePath)})),this.list=o,this.borderStyle=this.conf.borderStyle,this.backgroundColor=this.conf.backgroundColor,this.color=this.conf.color,this.selectedColor=this.conf.selectedColor}return e.prototype.getCurrentUrl=function(){var t,a=this.conf.mode,o=this.conf.basename||"/";if("hash"===a){var i=window.location.href,s=i.indexOf("#");t=-1===s?"":i.substring(s+1)}else t=location.pathname;var l=addLeadingSlash(stripBasename(t,o));return decodeURI("/"===l?this.homePage:l)},e.prototype.bindEvent=function(){s.ZPm.eventCenter.on("__vnmfRouterChange",this.routerChangeHandler),s.ZPm.eventCenter.on("__vnmfSwitchTab",this.switchTabHandler),s.ZPm.eventCenter.on("__vnmfSetTabBarBadge",this.setTabBarBadgeHandler),s.ZPm.eventCenter.on("__vnmfRemoveTabBarBadge",this.removeTabBarBadgeHandler),s.ZPm.eventCenter.on("__vnmfShowTabBarRedDotHandler",this.showTabBarRedDotHandler),s.ZPm.eventCenter.on("__vnmfHideTabBarRedDotHandler",this.hideTabBarRedDotHandler),s.ZPm.eventCenter.on("__vnmfShowTabBar",this.showTabBarHandler),s.ZPm.eventCenter.on("__vnmfHideTabBar",this.hideTabBarHandler),s.ZPm.eventCenter.on("__vnmfSetTabBarStyle",this.setTabBarStyleHandler),s.ZPm.eventCenter.on("__vnmfSetTabBarItem",this.setTabBarItemHandler)},e.prototype.removeEvent=function(){s.ZPm.eventCenter.off("__vnmfRouterChange",this.routerChangeHandler),s.ZPm.eventCenter.off("__vnmfSwitchTab",this.switchTabHandler),s.ZPm.eventCenter.off("__vnmfSetTabBarBadge",this.setTabBarBadgeHandler),s.ZPm.eventCenter.off("__vnmfRemoveTabBarBadge",this.removeTabBarBadgeHandler),s.ZPm.eventCenter.off("__vnmfShowTabBarRedDotHandler",this.showTabBarRedDotHandler),s.ZPm.eventCenter.off("__vnmfHideTabBarRedDotHandler",this.hideTabBarRedDotHandler),s.ZPm.eventCenter.off("__vnmfShowTabBar",this.showTabBarHandler),s.ZPm.eventCenter.off("__vnmfHideTabBar",this.hideTabBarHandler),s.ZPm.eventCenter.off("__vnmfSetTabBarStyle",this.setTabBarStyleHandler),s.ZPm.eventCenter.off("__vnmfSetTabBarItem",this.setTabBarItemHandler)},e.prototype.componentDidLoad=function(){this.tabbarPos=this.tabbar.nextElementSibling?"top":"bottom",this.bindEvent(),this.routerChangeHandler()},e.prototype.disconnectedCallback=function(){this.removeEvent()},e.prototype.render=function(){var t,a,o=this,s=this.tabbarPos,b=void 0===s?"bottom":s,h=this.status,c=(0,l.c)("weui-tabbar",((t={})["vnmf-tabbar__border-"+(this.borderStyle||"black")]=!0,t)),u=-1===this.selectedIndex||1===h,f=2===h;return(0,i.h)(i.H,{"class":(0,l.c)(d,d+"-"+b,(a={},a["vnmf-tabbar__tabbar-hide"]=u,a["vnmf-tabbar__tabbar-slideout"]=f,a))},(0,i.h)("div",{"class":c,"style":{"backgroundColor":this.backgroundColor||"","height":"inherit"}},this.list.map((function(t,a){var s,l,d=o.selectedIndex===a;return d?(s=o.selectedColor||"",l=t.selectedIconPath):(s=o.color||"",l=t.iconPath),(0,i.h)(TabbarItem,{"index":a,"onSelect":o.switchTab.bind(o),"isSelected":d,"textColor":s,"iconPath":l,"text":t.text,"badgeText":t.badgeText,"showRedDot":t.showRedDot})}))))},Object.defineProperty(e.prototype,"tabbar",{"get":function(){return(0,i.g)(this)},"enumerable":!1,"configurable":!0}),e}();b.style="html,body{height:100%}#app{height:100%}.vnmf-tabbar__border-white::before{border-top-color:#fff !important}.vnmf-tabbar__container{display:-ms-flexbox;display:flex;overflow:hidden;-ms-flex-direction:column;flex-direction:column;height:100%}.vnmf-tabbar__panel{overflow:auto;position:relative;-ms-flex:1;flex:1;-webkit-overflow-scrolling:auto}.vnmf-tabbar__tabbar{position:relative;width:100%;height:50px;-webkit-transition:bottom 0.2s, top 0.2s;transition:bottom 0.2s, top 0.2s}.vnmf-tabbar__tabbar-top{top:0}.vnmf-tabbar__tabbar-bottom{bottom:0;margin-bottom:constant(safe-area-inset-bottom);margin-bottom:env(safe-area-inset-bottom)}.vnmf-tabbar__tabbar-hide{display:none}.vnmf-tabbar__tabbar-slideout{top:-52px;-ms-flex:0 0;flex:0 0}.vnmf-tabbar__panel+.vnmf-tabbar__tabbar-slideout{top:auto;bottom:-52px}"}}]);